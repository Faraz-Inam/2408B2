<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
</head>

<body>
    <!-- CRUD -->
    <form onsubmit="abc()">

        <div class="mb-3">
            <label for="pname" class="form-label">Product Name</label>
            <input type="text" class="form-control" id="pname">
        </div>

        <div class="mb-3">
            <label for="pprice" class="form-label">Product Price</label>
            <input type="number" class="form-control" id="pprice">
        </div>

        <div class="mb-3">
            <label for="pdesc" class="form-label">Product Description</label>
            <input type="text" class="form-control" id="pdesc">
        </div>

        <button type="submit" class="btn btn-primary">Submit</button>

    </form>

    <table class="table" id="t">
        <tr>
            <th>Product ID</th>
            <th>Product Name</th>
            <th>Product Price</th>
            <th>Product Description</th>
            <th>Update</th>
            <th>Delete</th>
        </tr>
    </table>

    <script>
        var currentRow = null;
        function abc() {
            event.preventDefault();
            var pn = document.getElementById('pname').value;
            var pp = document.getElementById('pprice').value;
            var pd = document.getElementById('pdesc').value;

            if(currentRow == null){
            var table = document.getElementById('t');  // gettiing table from HTML
            var count = table.rows.length;  //rows count
            var row = table.insertRow();  //create Row
            row.insertCell(0).innerHTML = count;  //create cell
            row.insertCell(1).innerHTML = pn;  //create cell
            row.insertCell(2).innerHTML = pp;  //create cell
            row.insertCell(3).innerHTML = pd;  //create cell
            row.insertCell(4).innerHTML = "<button class='btn btn-warning' onclick='upd(this)'> EDIT </button>";  //create cell
            row.insertCell(5).innerHTML = "<button class='btn btn-danger' onclick='del(this)'> DELETE </button>";  //create cell
            }
            else{
                currentRow.cells[1].innerHTML = pn; 
                currentRow.cells[2].innerHTML = pp; 
                currentRow.cells[3].innerHTML = pd; 
                currentRow = null;
            }


            clr();
        }
        
        function clr(){
            document.getElementById('pname').value = '';
            document.getElementById('pprice').value = '';
            document.getElementById('pdesc').value = '';
        }

        function del(d) {
            var currentRow = d.parentElement.parentElement;
            if (confirm("Are You Sure?")) {
                document.getElementById('t').deleteRow(currentRow.rowIndex);
            }
        }

        function upd(u){
           currentRow = u.parentElement.parentElement
           document.getElementById('pname').value = currentRow.cells[1].innerHTML;
           document.getElementById('pprice').value = currentRow.cells[2].innerHTML;
           document.getElementById('pdesc').value = currentRow.cells[3].innerHTML;
        }


    </script>
</body>

</html>